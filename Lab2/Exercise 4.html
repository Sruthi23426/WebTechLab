<!DOCTYPE html>
<html>
<head>
    <title>User Management System</title>

    <style>
        body {
            font-family: Arial;
            background-color: #f4f6f9;
            margin: 0;
            padding: 0;
        }

        h1 {
            text-align: center;
            color: #2c3e50;
            margin-top: 20px;
        }

        .container {
            width: 80%;
            margin: auto;
            background: white;
            padding: 20px;
            border-radius: 8px;
        }

        input {
            width: 95%;
            padding: 10px;
            margin: 8px 0;
            border-radius: 5px;
            border: 1px solid #ccc;
        }

        button {
            padding: 10px 15px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }

        .add-btn {
            background-color: #3498db;
            color: white;
        }

        .clear-btn {
            background-color: #e74c3c;
            color: white;
            margin-top: 10px;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
        }

        th, td {
            padding: 10px;
            border: 1px solid #ccc;
            text-align: center;
        }

        th {
            background-color: #2c3e50;
            color: white;
        }

        .delete-btn {
            background-color: #e74c3c;
            color: white;
        }

        .error {
            color: red;
            font-weight: bold;
            text-align: center;
        }
    </style>
</head>

<body>

<h1>Advanced User Management System</h1>

<div class="container">

    <!-- REGISTRATION FORM -->
    <h2>Register User</h2>

    <input type="text" id="name" placeholder="Name">
    <input type="email" id="email" placeholder="Email">
    <input type="text" id="mobile" placeholder="Mobile Number">
    <input type="password" id="password" placeholder="Password">

    <button class="add-btn" onclick="registerUser()">Register</button>

    <p class="error" id="errorMsg"></p>

    <!-- USER TABLE -->
    <h2>Registered Users</h2>

    <table>
        <thead>
            <tr>
                <th>Name</th>
                <th>Email</th>
                <th>Mobile</th>
                <th>Action</th>
            </tr>
        </thead>
        <tbody id="userTable">
        </tbody>
    </table>

    <button class="clear-btn" onclick="clearAllUsers()">Clear All Users</button>

</div>

<script>
    function registerUser() {
        var name = document.getElementById("name").value.trim();
        var email = document.getElementById("email").value.trim();
        var mobile = document.getElementById("mobile").value.trim();
        var password = document.getElementById("password").value;

        var error = document.getElementById("errorMsg");
        error.innerHTML = "";

        // Validations
        if (name === "" || email === "" || mobile === "" || password === "") {
            error.innerHTML = "All fields are mandatory";
            return;
        }

        if (mobile.length !== 10 || isNaN(mobile)) {
            error.innerHTML = "Mobile number must be 10 digits";
            return;
        }

        if (password.length < 6) {
            error.innerHTML = "Password must be at least 6 characters";
            return;
        }

        var users = JSON.parse(localStorage.getItem("users")) || [];

        // Duplicate email check
        for (var i = 0; i < users.length; i++) {
            if (users[i].email === email) {
                error.innerHTML = "Email already registered";
                return;
            }
        }

        var user = {
            name: name,
            email: email,
            mobile: mobile,
            password: password
        };

        users.push(user);
        localStorage.setItem("users", JSON.stringify(users));

        document.getElementById("name").value = "";
        document.getElementById("email").value = "";
        document.getElementById("mobile").value = "";
        document.getElementById("password").value = "";

        displayUsers();
    }

    function displayUsers() {
        var users = JSON.parse(localStorage.getItem("users")) || [];
        var table = document.getElementById("userTable");
        table.innerHTML = "";

        users.forEach(function (user, index) {
            var row = table.insertRow();

            row.insertCell(0).innerHTML = user.name;
            row.insertCell(1).innerHTML = user.email;
            row.insertCell(2).innerHTML = user.mobile;

            var actionCell = row.insertCell(3);
            actionCell.innerHTML =
                "<button class='delete-btn' onclick='deleteUser(" + index + ")'>Delete</button>";
        });
    }

    function deleteUser(index) {
        var users = JSON.parse(localStorage.getItem("users"));
        users.splice(index, 1);
        localStorage.setItem("users", JSON.stringify(users));
        displayUsers();
    }

    function clearAllUsers() {
        localStorage.removeItem("users");
        displayUsers();
    }

    displayUsers();
</script>

</body>
</html>
